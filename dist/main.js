let arraify=e=>"object"==typeof e?e:e.split(""),deArraify=e=>"string"==typeof e?e:e.join(""),getBox=(e,t)=>document.getElementById("box"+e.toString()+"-"+t.toString()),memoize=(l,n)=>{let a=new Map;return(...e)=>{var t=e.join(",");if(a.has(t))return i=a.get(t),a.set(t,[i[0],i[1]+1]),i[0];if(a.size>=n){let e,t=1/0;for(var[o,r]of a.entries())r[1]<t&&(t=r[1],e=o);a.delete(e)}var i=l(...e);return a.set(t,[i,1]),i}},logDecorator=(i,l=console.log)=>{let n=i.name;return(e,...t)=>{var o="DEBUG"===e,e="INFO"===e||o;e&&l("Function "+n+" activated"),o&&l("Arguments inserted in "+n+": "+t.join(", "));try{var r=i(...t);return e&&l("Function "+n+" finished successfully"),o&&l("Result of "+n+": "+r.toString()),r}catch(e){throw l("Function "+n+"finished with error:"+e.toString()),e}}},columns=5,rows=6,gamefield=document.getElementById("gamefield");for(let r=0;r<rows;r++){let o=document.createElement("div");o.classList.add("row"),o.id="row"+r.toString();for(let t=0;t<columns;t++){let e=document.createElement("div");e.classList.add("letter-box"),e.id="box"+r.toString()+"-"+t.toString(),o.appendChild(e)}gamefield.appendChild(o)}let activeCell=[0,0],guess=new Array(columns).fill(void 0),highlightBox=()=>{for(let t=0;t<columns;t++){let e=getBox(activeCell[0],t);e.classList.remove("now")}let e=getBox(...activeCell);e.classList.add("now")},keyrowArray0=(highlightBox(),["й","ц","у","к","е","н","г","ш","щ","з","х","ї"]),keyrowArray1=["ф","і","в","а","п","р","о","л","д","ж","є","←"],keyrowArray2=["'","я","ч","с","м","и","т","ь","б","ю","ґ","✔"],normalKey=t=>()=>{var e=activeCell[1];void 0===guess[e]&&(getBox(activeCell[0],e).innerText=t,guess[e]=t,e!==columns-1&&(activeCell[1]+=1),highlightBox(),console.log(guess))},eraseKey=()=>{var t=activeCell[1];if(0!==t){let e;void 0!==guess[t]?(e=getBox(...activeCell),guess[t]=void 0):(e=getBox(activeCell[0],t-1),guess[t-1]=void 0,--activeCell[1]),e.innerText="",highlightBox(),console.log(guess)}},submitKey=()=>{console.log("Submit key pressed")},keyrow0=document.getElementById("keyrow-0"),keyrow1=(keyrowArray0.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow0.appendChild(t),t.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-1")),keyrow2=(keyrowArray1.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow1.appendChild(t),"←"===e?t.addEventListener("click",eraseKey):t.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-2"));keyrowArray2.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow2.appendChild(t),"✔"===e?t.addEventListener("click",submitKey):t.addEventListener("click",normalKey(e))});