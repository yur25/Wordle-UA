let arraify=e=>"object"==typeof e?e:e.split(""),deArraify=e=>"string"==typeof e?e:e.join(""),getBox=(e,r)=>document.getElementById("box"+e.toString()+"-"+r.toString()),memoize=(a,n)=>{let l=new Map;return(...e)=>{var r=e.join(",");if(l.has(r))return i=l.get(r),l.set(r,[i[0],i[1]+1]),i[0];if(l.size>=n){let e,r=1/0;for(var[t,o]of l.entries())o[1]<r&&(r=o[1],e=t);l.delete(e)}var i=a(...e);return l.set(r,[i,1]),i}},logDecorator=(i,a=console.log)=>(n=i.name,(e,...r)=>{var t="DEBUG"===e,e="INFO"===e||t;e&&a("Function"+n+"activated"),t&&a("Arguments inserted in "+n+": "+r.join(", "));try{var o=i(...r);return e&&a("Function "+n+" finished successfully"),t&&a("Result of "+n+": "+o.toString()),o}catch(e){throw a("Function "+n+"finished with error:"+e.toString()),e}}),collums=5,rows=6,gamefield=document.getElementById("gamefield");for(let o=0;o<rows;o++){let t=document.createElement("div");t.classList.add("row"),t.id="row"+o.toString();for(let r=0;r<collums;r++){let e=document.createElement("div");e.classList.add("letter-box"),e.id="box"+o.toString()+"-"+r.toString(),t.appendChild(e)}gamefield.appendChild(t)}let activeCell=[0,0],guess=new Array(collums).fill(void 0),highlightBox=()=>{for(let r=0;r<collums;r++){let e=getBox(activeCell[0],r);e.classList.remove("now")}let e=getBox(...activeCell);e.classList.add("now")},keyrowArray0=(highlightBox(),["й","ц","у","к","е","н","г","ш","щ","з","х","ї"]),keyrowArray1=["ф","і","в","а","п","р","о","л","д","ж","є","←"],keyrowArray2=["'","я","ч","с","м","и","т","ь","б","ю","ґ","✔"],normalKey=r=>()=>{var e=activeCell[1];void 0===guess[e]&&(getBox(activeCell[0],e).innerText=r,guess[e]=r,e!==collums-1&&(activeCell[1]+=1),highlightBox(),console.log(guess))},eraseKey=()=>{var r=activeCell[1];if(0!==r){let e;void 0!==guess[r]?(e=getBox(...activeCell),guess[r]=void 0):(e=getBox(activeCell[0],r-1),guess[r-1]=void 0,--activeCell[1]),e.innerText="",highlightBox(),console.log(guess)}},submitKey=()=>{console.log("Submit key pressed")},keyrow0=document.getElementById("keyrow-0"),keyrow1=(keyrowArray0.forEach(e=>{var r=document.createElement("div");r.classList.add("keyboard-box"),r.innerText=e,r.id="keybox-"+e,keyrow0.appendChild(r),r.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-1")),keyrow2=(keyrowArray1.forEach(e=>{var r=document.createElement("div");r.classList.add("keyboard-box"),r.innerText=e,r.id="keybox-"+e,keyrow1.appendChild(r),"←"===e?r.addEventListener("click",eraseKey):r.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-2")),answer=(keyrowArray2.forEach(e=>{var r=document.createElement("div");r.classList.add("keyboard-box"),r.innerText=e,r.id="keybox-"+e,keyrow2.appendChild(r),"✔"===e?r.addEventListener("click",submitKey):r.addEventListener("click",normalKey(e))}),"канон"),input="канон",wordCompare=(e,r)=>{for(var t in inputArray=arraify(e),answerArray=arraify(r),result=[],inputArray)inputArray.at(t)===answerArray.at(t)&&(result.push({letter:inputArray.at(t),position:t,color:"green"}),answerArray.splice(t,1,null),inputArray.splice(t,1,""));for(var o in inputArray)answerArray.includes(inputArray.at(o))&&(result.push({letter:inputArray.at(o),position:o,color:"yellow"}),answerArray.splice(answerArray.indexOf(inputArray.at(o)),1,null),inputArray.splice(o,1,""));for(var i in inputArray)""!==inputArray.at(i)&&result.push({letter:inputArray.at(i),position:i,color:"gray"});return result.sort((e,r)=>e.position-r.position),result};for(let e of wordCompare(input,answer))console.log(e);let readline=require("node:readline");async function getRandomWord(e){var r,e=fs.createReadStream(e);let t=null,o=0;for await(r of readline.createInterface({input:e,crlfDelay:1/0}))o++,Math.random()<1/o&&(t=r);return t}getRandomWord("ukrainian_words.txt").then(e=>{console.log(e)});let fs=require("node:fs"),cheerio=require("cheerio"),url="http://ukrlit.org/slovnyk/slovnyk_ukrainskoi_movy_v_11_tomakh";async function getPrefixes(e){e=await(await fetch(e)).text();let t=[],o=cheerio.load(e);return o(".letters__dropdown.letters__dropdown_opacity ul li a").each((e,r)=>{r=o(r).text().trim();t.push(r)}),t}async function getWords(e){let o=[];for(var r of e){r=`http://ukrlit.org/slovnyk/slovnyk_ukrainskoi_movy_v_11_tomakh/${r}~`,r=await(await fetch(r)).text();let t=cheerio.load(r);t(".word-list ul li a").each((e,r)=>{r=t(r).text().trim();5!==r.length||r.includes("-")||o.push(r)})}return o}async function createFile(e){e=await getWords(await getPrefixes(e));fs.writeFileSync("ukrainian_words.txt",[...e].join("\n"),"utf-8")}createFile(url);