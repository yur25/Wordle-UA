let arraify=e=>"object"==typeof e?e:e.split(""),deArraify=e=>"string"==typeof e?e:e.join(""),getBox=(e,t)=>document.getElementById("box"+e.toString()+"-"+t.toString()),memoize=(a,n)=>{let l=new Map;return(...e)=>{var t=e.join(",");if(l.has(t))return i=l.get(t),l.set(t,[i[0],i[1]+1]),i[0];if(l.size>=n){let e,t=1/0;for(var[r,o]of l.entries())o[1]<t&&(t=o[1],e=r);l.delete(e)}var i=a(...e);return l.set(t,[i,1]),i}},logDecorator=(i,a=console.log)=>(n=i.name,(e,...t)=>{var r="DEBUG"===e,e="INFO"===e||r;e&&a("Function"+n+"activated"),r&&a("Arguments inserted in "+n+": "+t.join(", "));try{var o=i(...t);return e&&a("Function "+n+" finished successfully"),r&&a("Result of "+n+": "+o.toString()),o}catch(e){throw a("Function "+n+"finished with error:"+e.toString()),e}}),collums=5,rows=6,gamefield=document.getElementById("gamefield");for(let o=0;o<rows;o++){let r=document.createElement("div");r.classList.add("row"),r.id="row"+o.toString();for(let t=0;t<collums;t++){let e=document.createElement("div");e.classList.add("letter-box"),e.id="box"+o.toString()+"-"+t.toString(),r.appendChild(e)}gamefield.appendChild(r)}let activeCell=[0,0],guess=new Array(collums).fill(void 0),highlightBox=()=>{for(let t=0;t<collums;t++){let e=getBox(activeCell[0],t);e.classList.remove("now")}let e=getBox(...activeCell);e.classList.add("now")},keyrowArray0=(highlightBox(),["й","ц","у","к","е","н","г","ш","щ","з","х","ї"]),keyrowArray1=["ф","і","в","а","п","р","о","л","д","ж","є","←"],keyrowArray2=["'","я","ч","с","м","и","т","ь","б","ю","ґ","✔"],normalKey=t=>()=>{var e=activeCell[1];void 0===guess[e]&&(getBox(activeCell[0],e).innerText=t,guess[e]=t,e!==collums-1&&(activeCell[1]+=1),highlightBox(),console.log(guess))},eraseKey=()=>{var t=activeCell[1];if(0!==t){let e;void 0!==guess[t]?(e=getBox(...activeCell),guess[t]=void 0):(e=getBox(activeCell[0],t-1),guess[t-1]=void 0,--activeCell[1]),e.innerText="",highlightBox(),console.log(guess)}},submitKey=()=>{console.log("Submit key pressed")},keyrow0=document.getElementById("keyrow-0"),keyrow1=(keyrowArray0.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow0.appendChild(t),t.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-1")),keyrow2=(keyrowArray1.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow1.appendChild(t),"←"===e?t.addEventListener("click",eraseKey):t.addEventListener("click",normalKey(e))}),document.getElementById("keyrow-2")),answer=(keyrowArray2.forEach(e=>{var t=document.createElement("div");t.classList.add("keyboard-box"),t.innerText=e,t.id="keybox-"+e,keyrow2.appendChild(t),"✔"===e?t.addEventListener("click",submitKey):t.addEventListener("click",normalKey(e))}),"канон"),input="канон",wordCompare=(e,t)=>{for(var r in inputArray=arraify(e),answerArray=arraify(t),result=[],inputArray)inputArray.at(r)===answerArray.at(r)&&(result.push({letter:inputArray.at(r),position:r,color:"green"}),answerArray.splice(r,1,null),inputArray.splice(r,1,""));for(var o in inputArray)answerArray.includes(inputArray.at(o))&&(result.push({letter:inputArray.at(o),position:o,color:"yellow"}),answerArray.splice(answerArray.indexOf(inputArray.at(o)),1,null),inputArray.splice(o,1,""));for(var i in inputArray)""!==inputArray.at(i)&&result.push({letter:inputArray.at(i),position:i,color:"gray"});return result.sort((e,t)=>e.position-t.position),result};for(let e of wordCompare(input,answer))console.log(e);let fs=require("node:fs"),cheerio=require("cheerio"),url="http://ukrlit.org/slovnyk/slovnyk_ukrainskoi_movy_v_11_tomakh";async function getPrefixes(e){e=await(await fetch(e)).text();let r=[],o=cheerio.load(e);return o(".letters__dropdown.letters__dropdown_opacity ul li a").each((e,t)=>{t=o(t).text().trim();r.push(t)}),r}async function getWords(e){let o=[];for(var t of e){t=`http://ukrlit.org/slovnyk/slovnyk_ukrainskoi_movy_v_11_tomakh/${t}~`,t=await(await fetch(t)).text();let r=cheerio.load(t);r(".word-list ul li a").each((e,t)=>{t=r(t).text().trim();5!==t.length||t.includes("-")||o.push(t)})}return o}async function createFile(e){e=await getWords(await getPrefixes(e));fs.writeFileSync("ukrainian_words.txt",[...e].join("\n"),"utf-8")}createFile(url);